{% extends "myspace.html" %}
{% load static %}
{% load convert_markdown %}
{% block inview %}
<!-- about us -->
    <div class="container-fluid overlay" style="min-height:calc(100vh - 116px);background: url({% static 'images/backgrounds/photo3.jpg' %});background-size:cover">
      <div class="row align-items-start">
        <div class="col-md-12 order-2 order-md-1">
            <h2 class="section-title py-5 text-center" style="font-family:futura">Foire aux questions</h2>
            {% for qr in faq %}
            <div id="@{{qr.id}}" class="col-12 my-1 py-1 box-faq bg-white" style="max-height:80px;overflow:hidden">
                <a onClick="" id="b@{{qr.id}}" class="d-inline-block text-color" style="position: absolute;right: 0;top: 0;"><i id="i@{{ qr.id }}" class="ti-arrow-down"></i></a>
                <h4>
                    {{ qr.question }}
                </h4>
                {{ qr.response|convert_markdown|safe }}
            </div>
            {% endfor %}
      </div>
    </div>
    <script>
        let list_of_faq = document.getElementsByClassName('box-faq')
        for (let faq of list_of_faq) {
            let id_faq = faq.id;
            let btn_show = document.getElementById('b' + id_faq);
            btn_show.addEventListener('click', function() {
                if ('ti-arrow-down' == document.getElementById('i' + id_faq).getAttribute('class')) {
                    document.getElementById(id_faq).setAttribute('style', '');
                    document.getElementById('i' + id_faq).setAttribute('class', 'ti-arrow-up')
                }
                else {
                    document.getElementById(id_faq).setAttribute('style', 'max-height:80px;overflow:hidden');
                    document.getElementById('i' + id_faq).setAttribute('class', 'ti-arrow-down')
                }
                
            })
        };
    </script>
  </section>
  <!-- /about us -->

{% endblock %}
